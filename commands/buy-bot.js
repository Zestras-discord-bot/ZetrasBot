// PP EMAIL

const ppEmail = "zestras1337@gmail.com";

//PRICE FOR PP

const ppPrice = 1.15;

//LIST OF ACCOUNTS

// const productLimitedItemsAccounts = [
//   {
//     name:
//       'CALL OF DUTY®: MW  | 11+ Obsidian Weapons w/ 26 Platinum Weapons + 31 Gold Weapons ',
//     price: 17.99 * ppPrice,
//   },
//   {
//     name: 'CALL OF DUTY®: MW  | 35+ Platinum Weapons | Email Access',
//     price: 7.49 * ppPrice,
//   },
//   {
//     name: 'CALL OF DUTY®: MW  | 40+ Platinum Weapons | Email Access',
//     price: 8.49 * ppPrice,
//   },
//   {
//     name: 'CALL OF DUTY®: MW  | 15+ Gold Weapons',
//     price: 1.1 * ppPrice,
//   },
//   {
//     name:
//       'CALL OF DUTY®: MW  | Damascus Camo w/ 5+ Obsidian Weapons | Email Access',
//     price: 31.99 * ppPrice,
//   },
//   {
//     name:
//       'CALL OF DUTY®: MW  | Damascus Camo + 30 Obsidian Weapons + Max Battle Pass (2-6) | Email Access',
//     price: 89.99 * ppPrice,
//   },
// ];
const productCallOfDutyAccounts = [
  {
    name: "CALL OF DUTY®: MW  | Damascus Camo | Email Access",
    price: 27.99 * ppPrice,
  },
  {
    name: "[BULK] 150x CALL OF DUTY®: MW  | Random Stats",
    price: 1.5 * ppPrice,
  },
  {
    name: "CALL OF DUTY®: MW  | Damascus Camo + Obsidian Camo | Email Access",
    price: 29.99 * ppPrice,
  },
  {
    name: "CALL OF DUTY®: MW  | 5+ Platinum Weapons",
    price: 1.49 * ppPrice,
  },
  {
    name: "CALL OF DUTY®: MW  | 10+ Platinum Weapons",
    price: 2.49 * ppPrice,
  },
  {
    name: "CALL OF DUTY®: MW  | 15+ Platinum Weapons",
    price: 3.49 * ppPrice,
  },
  {
    name: "CALL OF DUTY®: MW  | 20+ Platinum Weapons | Email Access",
    price: 4.49 * ppPrice,
  },
  {
    name: "CALL OF DUTY®: MW  | 25+ Platinum Weapons | Email Access",
    price: 5.49 * ppPrice,
  },
  {
    name: "CALL OF DUTY®: MW  | 30+ Platinum Weapons | Email Access",
    price: 6.49 * ppPrice,
  },
  {
    name: "[BULK] 6x CALL OF DUTY®: MW  | 1+ Gold Weapons | Email Access",
    price: 1.5 * ppPrice,
  },
  {
    name: "[BULK] 4x CALL OF DUTY®: MW  | 5+ Gold Weapons | Email Access",
    price: 1.59 * ppPrice,
  },
  {
    name: "[BULK] 2x CALL OF DUTY®: MW  | 10+ Gold Weapons",
    price: 1.59 * ppPrice,
  },
  {
    name: "[BULK] 2x CALL OF DUTY®: MW  | 1+ Obsidian Weapons | Email Access",
    price: 1.99 * ppPrice,
  },
  {
    name: "CALL OF DUTY®: MW  | 5+ Obsidian Weapons | Email Access",
    price: 4.49 * ppPrice,
  },
];

const productLimitedItemsAccounts = [
  {
    name: "[BULK] 4x DoorDash Accounts w/ CC Connecteds",
    price: 1.6 * ppPrice,
  },
  {
    name: "MODERN WARFARE Accounts | Damascus Camo w/ 29+ Store Bought Items",
    price: 33 * ppPrice,
  },
];
// const productFoodAccounts = [
//   {
//     name: '[BULK] 15x Buffalo Wild Wings 1 - 999 Points',
//     price: 1.49 * ppPrice,
//   },
//   {
//     name: '[BULK] 6x Buffalo Wild Wings 1000 - 1999 Points',
//     price: 1.49 * ppPrice,
//   },
//   {
//     name: '[BULK] 6x Buffalo Wild Wings 2000 - 2999 Points',
//     price: 1.49 * ppPrice,
//   },
//   {
//     name: '[BULK] 2x Buffalo Wild Wings 3000 - 3999 Points',
//     price: 3.99 * ppPrice,
//   },
//   {
//     name: 'Buffalo Wild Wings 4000 - 4999 Points',
//     price: 2.99 * ppPrice,
//   },
//   {
//     name: 'Buffalo Wild Wings 5000 - 5999 Points',
//     price: 3.99 * ppPrice,
//   },
//   {
//     name: 'Buffalo Wild Wings 6000 - 6999 Points',
//     price: 4.99 * ppPrice,
//   },
//   {
//     name: 'Buffalo Wild Wings 7000 - 7999 Points',
//     price: 5.99 * ppPrice,
//   },
//   {
//     name: 'Buffalo Wild Wings 8000 - 8999 Points',
//     price: 6.99 * ppPrice,
//   },
//   {
//     name: 'Buffalo Wild Wings 9000 - 9999 Points',
//     price: 7.99 * ppPrice,
//   },
//   {
//     name: 'Buffalo Wild Wings 10000+ Points',
//     price: 8.99 * ppPrice,
//   },
// ];
const productVpnAccounts = [
  {
    name: "[BULK] 7x NordVPN Accounts | EXP: 2021",
    price: 1.69 * ppPrice,
  },
  {
    name: "[BULK] 3x NordVPN Accounts | EXP: 2022",
    price: 1.44 * ppPrice,
  },
  {
    name: "[BULK] 2x NordVPN Accounts | EXP: 2023",
    price: 1.92 * ppPrice,
  },
  {
    name: "NordVPN Accounts | EXP: 2024",
    price: 1.92 * ppPrice,
  },
  {
    name: "NordVPN Accounts | EXP: 2025",
    price: 3.84 * ppPrice,
  },
  {
    name: "NordVPN Accounts | EXP: 2026",
    price: 5.2 * ppPrice,
  },
  {
    name: "NordVPN Accounts | EXP: 2028",
    price: 7.2 * ppPrice,
  },
  {
    name: "[BULK] 4x TunnelBear VPN Accounts",
    price: 1.5 * ppPrice,
  },
  {
    name: "[BULK] 4x IPVanish VPN Accounts",
    price: 1.5 * ppPrice,
  },
  {
    name: "VyprVPN VPN Accounts",
    price: 1.5 * ppPrice,
  },
  {
    name: "HMA VPN Accounts",
    price: 1.99 * ppPrice,
  },
];
const productOtherAccounts = [
  {
    name: "Phone Verified Battle.net Warzone Accounts",
    price: 1.49 * ppPrice,
  },
  {
    name: "[BULK] 10x Phone Verified Battle.net Warzone Accounts",
    price: 9.99 * ppPrice,
  },
  {
    name: "Battle.net Phone Verification Service [ANY COUNTRY]",
    price: 1.99 * ppPrice,
  },
  {
    name: "[BULK] 15x Spotify Accounts (Premium)",
    price: 1.5 * ppPrice,
  },
  {
    name: "Spotify Premium Upgrade (KEY + ADDY)",
    price: 1.99 * ppPrice,
  },
  // {
  //   name: '[BULK] 7x Gfuel Accounts | 50 - 200 Points',
  //   price: 1.4 * ppPrice,
  // },
  // {
  //   name: 'Gfuel Accounts | 200 - 400 Points',
  //   price: 3.49 * ppPrice,
  // },
  // {
  //   name: 'Gfuel Accounts | 400 - 600 Points',
  //   price: 5.49 * ppPrice,
  // },
  // {
  //   name: 'Gfuel Accounts | 600 - 800 Points',
  //   price: 7.49 * ppPrice,
  // },
  // {
  //   name: 'Gfuel Accounts | 800 - 1000 Points',
  //   price: 8.99 * ppPrice,
  // },
  {
    name: "[BULK] 3x PornHub Premium Accounts",
    price: 1.5 * ppPrice,
  },
  {
    name: "[BULK] 2x OnlyFans Accounts w/ CC Linked",
    price: 1.99 * ppPrice,
  },
  {
    name: "PornHub Premium + Livecam Access",
    price: 1.49 * ppPrice,
  },
];

//LIST OF SERVICES

const productSpotifyServices = [
  {
    name: "Spotify Premium Upgrade Service",
    price: 2.99 * ppPrice,
  },
  {
    name: "Spotify Followers | 1000+",
    price: 4.59 * ppPrice,
  },
  {
    name: "Spotify Followers | 2500+",
    price: 11.45 * ppPrice,
  },
  {
    name: "Spotify Followers | 5000+",
    price: 22.9 * ppPrice,
  },
];

const productInstagramServices = [
  {
    name: "Instagram Followers | 1000+ [REFILLS]",
    price: 3.64 * ppPrice,
  },
  {
    name: "Instagram Followers | 2500+ [REFILLS]",
    price: 9.1 * ppPrice,
  },
  {
    name: "Instagram Followers | 5000+ [REFILLS]",
    price: 18.2 * ppPrice,
  },
  {
    name: "Instagram Followers | 10000+ [REFILLS]",
    price: 36.4 * ppPrice,
  },
  {
    name: "Instagram Followers | 25000+ [REFILLS]",
    price: 90.99 * ppPrice,
  },
  {
    name: "Instagram Followers | 50000+ [REFILLS]",
    price: 181.99 * ppPrice,
  },
  {
    name: "Instagram Likes | 1000+",
    price: 2.88 * ppPrice,
  },
  {
    name: "Instagram Likes | 2500+",
    price: 7.2 * ppPrice,
  },
  {
    name: "Instagram Likes | 5000+",
    price: 14.4 * ppPrice,
  },
];

const productYouTubeServices = [
  {
    name: "YouTube Subscribers | 250+",
    price: 2.93 * ppPrice,
  },
  {
    name: "YouTube Subscribers | 500+",
    price: 5.85 * ppPrice,
  },
  {
    name: "YouTube Subscribers | 1000+",
    price: 11.7 * ppPrice,
  },
  {
    name: "YouTube Likes | 500+",
    price: 3.3 * ppPrice,
  },
  {
    name: "YouTube Likes | 1000+",
    price: 6.6 * ppPrice,
  },
  {
    name: "YouTube Likes | 3000+",
    price: 19.8 * ppPrice,
  },
];

// const productModernWarfareService = [
//   {
//     name: 'Modern Warfare Unlock All Service',
//     price: 24.99 * ppPrice,
//   },
// ];

const productOnlyFansService = [
  {
    name: "OnlyFans Subscription Service (5x Subs) ",
    price: 2.99 * ppPrice,
  },
];

const productTwitchServices = [
  {
    name: "Twitch Followers | 1000+",
    price: 3.49 * ppPrice,
  },
  {
    name: "Twitch Followers | 3000+",
    price: 10.49 * ppPrice,
  },
  {
    name: "Twitch Followers | 5000+",
    price: 17.5 * ppPrice,
  },
  {
    name: "Twitch Followers | 10000+",
    price: 34.99 * ppPrice,
  },
];

const productTickTokServices = [
  {
    name: "TikTok Followers | 500+ [EXTREMLY HIGH QUALITY]",
    price: 5.49 * ppPrice,
  },
  {
    name: "TikTok Followers | 1000+ [EXTREMLY HIGH QUALITY]",
    price: 10.99 * ppPrice,
  },
  {
    name: "TikTok Followers | 2500+ [EXTREMLY HIGH QUALITY]",
    price: 27.49 * ppPrice,
  },
  {
    name: "TikTok Followers | 5000+ [EXTREMLY HIGH QUALITY]",
    price: 54.99 * ppPrice,
  },
  {
    name: "TikTok Followers | 10000+ [EXTREMLY HIGH QUALITY]",
    price: 109.99 * ppPrice,
  },
  {
    name: "TikTok Followers | 20000+ [EXTREMLY HIGH QUALITY]",
    price: 219.99 * ppPrice,
  },
];

module.exports = {
  async run(discord, bot, message, args) {
    // message.reply("Paypal is limited, please try again later");

    if (message.channel.name.includes("ticket")) {
      //!message.channel.name.includes("ticket")
      message.delete();
      return message
        .reply(
          "PP Payments are closed, Sorry but you will have to wait till we get a new PP account"
        ) // "This command can be only called inside of a ticket"
        .then((message) => {
          setTimeout(() => {
            let ticket = message.channel;
            message.delete();
            return ticket;
          }, 5000);
        }) //Erase when everithing works again
        .then((ticket) => {
          setTimeout(() => ticket.delete(), 30000);
        });
    }

    let ticket = message.channel;

    message
      .reply(
        new discord.MessageEmbed()
          .setTitle(`Let's Get Started!`)
          .setDescription(
            "*What payment method would you like to use to pay?*\n\n**[1]** *PayPal*\n\n**[2]** *Bitcoin*\n\n**NOTE:** Type `-close` to close the ticket at any time."
          )
          .setColor(0x36393e)
      )
      .then(
        setTimeout(() => {
          message.delete();
        }, 1500),
        (e) => console.log(e)
      );
    const paymentMethodCollector = ticket.createMessageCollector((x) => true);

    paymentMethodCollector.on("collect", (message) => {
      const paymentMethodContent = message.content.toLowerCase();

      if (paymentMethodContent === "bitcoin" || paymentMethodContent === "2") {
        ticket.send(
          "*If you want to purchase using Bitcoin, then please buy using our website* **http://zestras.net/**\n\n**NOTE:** The ticket is going to get closed in 30s. **(create a new ticket if you want to purchase using PayPal)**"
        );
        paymentMethodCollector.stop();
        setTimeout(() => ticket.delete(), 30000);
        return;
      } else if (
        paymentMethodContent === "paypal" ||
        paymentMethodContent === "1"
      ) {
        paymentMethodCollector.stop();

        message.channel.send(
          `*You have selected PayPal as your payment method.\n\nPlease note that PayPal prices are* **15%** *higher than bitcoin prices on our shop.*\n\n*Also please note that Zestras only accepts PayPal if you use Friends and Family.*\n\n*Lastly, please make sure that you accept these terms of service before you send any money: https://zestras.net/terms*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
        );

        message.channel.send(
          new discord.MessageEmbed()
            .setTitle("Terms of Service")
            .setDescription(
              "*Have you read and agreed to [these](https://zestrasonline.atshop.io/terms) terms of services?*\n\n**[1]** *Yes*\n\n**[2]** *No*\n\n**NOTE:** Type `-close` to close the ticket at any time."
            )
            .setColor(0x36393e)
        );

        const acceptedTermsCollector = ticket.createMessageCollector(
          (x) => true
        );

        acceptedTermsCollector.on("collect", (message) => {
          const acceptedTermsContent = message.content.toLowerCase();

          if (acceptedTermsContent === "no" || acceptedTermsContent === "2") {
            acceptedTermsCollector.stop();
            message.channel.send(
              "*You need to accept the terms of services in order to purchase.*"
            );
            message.channel.send(
              new discord.MessageEmbed()
                .setTitle("Terms of Service")
                .setDescription(
                  "*Have you read and agreed to [these](https://zestrasonline.atshop.io/terms) terms of services?*\n\n**[1]** *Yes*\n\n**[2]** *No*\n\n**NOTE:** Type `-close` to close the ticket at any time."
                )
                .setColor(0x36393e)
            );
            const acceptedTermsSecondTimeCollector = ticket.createMessageCollector(
              (x) => true
            );
            acceptedTermsSecondTimeCollector.on("collect", (message) => {
              const acceptedTermsContentAgain = message.content.toLowerCase();
              if (
                acceptedTermsContentAgain === "no" ||
                (acceptedTermsContentAgain === "2" && !message.author.bot)
              ) {
                return (
                  ticket.delete() && acceptedTermsSecondTimeCollector.stop()
                );
              } else if (
                (!message.author.bot && acceptedTermsContentAgain === "yes") ||
                acceptedTermsContentAgain === "1"
              ) {
                acceptedTermsSecondTimeCollector.stop();
                message.channel
                  .send(`OK!! let's start over`)
                  .then(message.channel.send("-buy-bot"));
              }
            });
          } else if (
            acceptedTermsContent === "yes" ||
            acceptedTermsContent === "1"
          ) {
            acceptedTermsCollector.stop();

            message.channel.send(
              new discord.MessageEmbed()
                .setTitle("What are you looking for ??")
                .setDescription(
                  "*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n**[1]** *Accounts*\n\n**[2]** *Services*\n\n**NOTE:** Type `-close` to close the ticket at any time."
                )
                .setColor(0x36393e)
            );

            const whatLookingForCollector = ticket.createMessageCollector(
              (x) => true
            );

            whatLookingForCollector.on("collect", (message) => {
              let collectorContent = message.content.toLowerCase();

              if (collectorContent === "service" || collectorContent === "2") {
                whatLookingForCollector.stop();
                message.channel.send(
                  new discord.MessageEmbed()
                    .setTitle("Which Service ?")
                    .setDescription(
                      "*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n**[1]** *Instagram*\n\n**[2]** *YouTube*\n\n**[3]** *Twitch*\n\n**[4]** *Spotify*\n\n**[5]** *TickTok*\n\n**[6]** *OnlyFans Subscription*\n\n**NOTE:** Type `-close` to close the ticket at any time."
                    )
                    .setColor(0x36393e)
                );
                const whichServiceCollector = ticket.createMessageCollector(
                  (x) => true
                );
                whichServiceCollector.on("collect", (message) => {
                  collectorContent = message.content.toLowerCase();

                  if (
                    collectorContent === "instagram" ||
                    collectorContent === "1"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productInstagramServices
                        .map(
                          (product) =>
                            `**[${
                              productInstagramServices.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (
                        number < 1 ||
                        number > productInstagramServices.length
                      )
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productInstagramServices[number - 1];

                        message.channel.send(
                          `*Send*  **$${product.price.toFixed(
                            2
                          )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                        const doneCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        doneCollector.on("collect", (message) => {
                          const doneContent = message.content.toLowerCase();

                          if (doneContent === "-done") {
                            doneCollector.stop();
                            message.channel.send(
                              "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                            );
                          }
                        });
                      }
                    });
                  } else if (
                    collectorContent === "youtube" ||
                    collectorContent === "2"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productYouTubeServices
                        .map(
                          (product) =>
                            `**[${
                              productYouTubeServices.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (
                        number < 1 ||
                        number > productYouTubeServices.length
                      )
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productYouTubeServices[number - 1];

                        message.channel.send(
                          `*Send*  **$${product.price.toFixed(
                            2
                          )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                        const doneCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        doneCollector.on("collect", (message) => {
                          const doneContent = message.content.toLowerCase();

                          if (doneContent === "-done") {
                            doneCollector.stop();
                            message.channel.send(
                              "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                            );
                          }
                        });
                      }
                    });
                  } else if (
                    collectorContent === "Twitch" ||
                    collectorContent === "3"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productTwitchServices
                        .map(
                          (product) =>
                            `**[${
                              productTwitchServices.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (
                        number < 1 ||
                        number > productTwitchServices.length
                      )
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productTwitchServices[number - 1];

                        message.channel.send(
                          `*Send*  **$${product.price.toFixed(
                            2
                          )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                        const doneCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        doneCollector.on("collect", (message) => {
                          const doneContent = message.content.toLowerCase();

                          if (doneContent === "-done") {
                            doneCollector.stop();
                            message.channel.send(
                              "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                            );
                          }
                        });
                      }
                    });
                  } else if (
                    collectorContent === "Spotify" ||
                    collectorContent === "4"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productSpotifyServices
                        .map(
                          (product) =>
                            `**[${
                              productSpotifyServices.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (
                        number < 1 ||
                        number > productSpotifyServices.length
                      )
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productSpotifyServices[number - 1];

                        message.channel.send(
                          `*Send*  **$${product.price.toFixed(
                            2
                          )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                        const doneCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        doneCollector.on("collect", (message) => {
                          const doneContent = message.content.toLowerCase();

                          if (doneContent === "-done") {
                            doneCollector.stop();
                            message.channel.send(
                              "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                            );
                          }
                        });
                      }
                    });
                  } else if (
                    collectorContent === "TickTok" ||
                    collectorContent === "5"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productTickTokServices
                        .map(
                          (product) =>
                            `**[${
                              productTickTokServices.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (
                        number < 1 ||
                        number > productTickTokServices.length
                      )
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productTickTokServices[number - 1];

                        message.channel.send(
                          `*Send*  **$${product.price.toFixed(
                            2
                          )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                        const doneCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        doneCollector.on("collect", (message) => {
                          const doneContent = message.content.toLowerCase();

                          if (doneContent === "-done") {
                            doneCollector.stop();
                            message.channel.send(
                              "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                            );
                          }
                        });
                      }
                    });
                  } else if (
                    collectorContent === "Only Fans" ||
                    collectorContent === "6"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productOnlyFansService
                        .map(
                          (product) =>
                            `**[${
                              productOnlyFansService.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (
                        number < 1 ||
                        number > productOnlyFansService.length
                      )
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productOnlyFansService[number - 1];

                        message.channel.send(
                          `*Send*  **$${product.price.toFixed(
                            2
                          )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                        const doneCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        doneCollector.on("collect", (message) => {
                          const doneContent = message.content.toLowerCase();

                          if (doneContent === "-done") {
                            doneCollector.stop();
                            message.channel.send(
                              "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                            );
                          }
                        });
                      }
                    });
                  }
                });
              } else if (
                collectorContent === "account" ||
                collectorContent === "1"
              ) {
                whatLookingForCollector.stop();
                message.channel.send(
                  new discord.MessageEmbed()
                    .setTitle("Which Account")
                    .setDescription(
                      "*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n**[1]** *Call of Duty*\n\n**[2]** *Vpn*\n\n**[3]** *Limited Items*\n\n**[4]** *Others*\n\n**NOTE:** Type `-close` to close the ticket at any time."
                    )
                    .setColor(0x36393e)
                );
                const whichServiceCollector = ticket.createMessageCollector(
                  (x) => true
                );
                whichServiceCollector.on("collect", (message) => {
                  collectorContent = message.content.toLowerCase();

                  if (
                    collectorContent === "call of duty" ||
                    collectorContent === "1"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productCallOfDutyAccounts
                        .map(
                          (product) =>
                            `**[${
                              productCallOfDutyAccounts.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (
                        number < 1 ||
                        number > productCallOfDutyAccounts.length
                      )
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productCallOfDutyAccounts[number - 1];

                        message.channel.send(
                          `*How Many ${product.name} would you like?*\n\n*Type any number between 1 - 999 to choose the amount of accounts you want to buy.* \n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );

                        const howManyCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        howManyCollector.on("collect", (message) => {
                          const howManyContent = parseInt(message.content);

                          if (howManyContent.toString() === "NaN") return;
                          else if (howManyContent < 1 || howManyContent > 999)
                            return message.channel.send(
                              `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                            );
                          else {
                            howManyCollector.stop();

                            message.channel.send(
                              `*Send*  **$${(
                                product.price.toFixed(2) * howManyContent
                              ).toFixed(
                                2
                              )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                            );
                            const doneCollector = ticket.createMessageCollector(
                              (x) => true
                            );

                            doneCollector.on("collect", (message) => {
                              const doneContent = message.content.toLowerCase();

                              if (doneContent === "-done") {
                                doneCollector.stop();
                                message.channel.send(
                                  "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                                );
                              }
                            });
                          }
                        });
                      }
                    });
                    // } else if (
                    //   collectorContent === 'food' ||
                    //   collectorContent === '3'
                    // ) {
                    //   whichServiceCollector.stop();

                    //   message.channel.send(
                    //     `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productFoodAccounts
                    //       .map(
                    //         (product) =>
                    //           `**[${
                    //             productFoodAccounts.indexOf(product) + 1
                    //           }]** *${product.name}* (**$${product.price.toFixed(
                    //             2
                    //           )}**)`
                    //       )
                    //       .join(
                    //         '\n'
                    //       )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    //   );

                    //   const productCollector = ticket.createMessageCollector(
                    //     (x) => true
                    //   );

                    //   productCollector.on('collect', (message) => {
                    //     const productContent = message.content.toLowerCase();
                    //     const number = parseInt(productContent);

                    //     if (number.toString() === 'NaN') return;
                    //     else if (
                    //       number < 1 ||
                    //       number > productFoodAccounts.length
                    //     )
                    //       return message.channel.send(
                    //         `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    //       );
                    //     else {
                    //       productCollector.stop();
                    //       const product = productFoodAccounts[number - 1];

                    //       message.channel.send(
                    //         `*How Many ${product.name} would you like?*\n\n*Type any number between 1 - 999 to choose the amount of accounts you want to buy.* \n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    //       );

                    //       const howManyCollector = ticket.createMessageCollector(
                    //         (x) => true
                    //       );

                    //       howManyCollector.on('collect', (message) => {
                    //         const howManyContent = parseInt(message.content);

                    //         if (howManyContent.toString() === 'NaN') return;
                    //         else if (howManyContent < 1 || howManyContent > 999)
                    //           return message.channel.send(
                    //             `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    //           );
                    //         else {
                    //           howManyCollector.stop();

                    //           message.channel.send(
                    //             `*Send*  **$${(
                    //               product.price.toFixed(2) * howManyContent
                    //             ).toFixed(
                    //               2
                    //             )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    //           );
                    //           const doneCollector = ticket.createMessageCollector(
                    //             (x) => true
                    //           );

                    //           doneCollector.on('collect', (message) => {
                    //             const doneContent = message.content.toLowerCase();

                    //             if (doneContent === '-done') {
                    //               doneCollector.stop();
                    //               message.channel.send(
                    //                 "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                    //               );
                    //             }
                    //           });
                    //         }
                    //       });
                    //     }
                    //   });
                  } else if (
                    collectorContent === "vpn" ||
                    collectorContent === "2"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productVpnAccounts
                        .map(
                          (product) =>
                            `**[${
                              productVpnAccounts.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (number < 1 || number > productVpnAccounts.length)
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productVpnAccounts[number - 1];

                        message.channel.send(
                          `*How Many ${product.name} would you like?*\n\n*Type any number between 1 - 999 to choose the amount of accounts you want to buy.* \n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );

                        const howManyCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        howManyCollector.on("collect", (message) => {
                          const howManyContent = parseInt(message.content);

                          if (howManyContent.toString() === "NaN") return;
                          else if (howManyContent < 1 || howManyContent > 999)
                            return message.channel.send(
                              `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                            );
                          else {
                            howManyCollector.stop();

                            message.channel.send(
                              `*Send*  **$${(
                                product.price.toFixed(2) * howManyContent
                              ).toFixed(
                                2
                              )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                            );
                            const doneCollector = ticket.createMessageCollector(
                              (x) => true
                            );

                            doneCollector.on("collect", (message) => {
                              const doneContent = message.content.toLowerCase();

                              if (doneContent === "-done") {
                                doneCollector.stop();
                                message.channel.send(
                                  "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                                );
                              }
                            });
                          }
                        });
                      }
                    });
                  } else if (
                    collectorContent === "limited items" ||
                    collectorContent === "3"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productLimitedItemsAccounts
                        .map(
                          (product) =>
                            `**[${
                              productLimitedItemsAccounts.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (
                        number < 1 ||
                        number > productLimitedItemsAccounts.length
                      )
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productLimitedItemsAccounts[number - 1];

                        message.channel.send(
                          `*How Many ${product.name} would you like?*\n\n*Type any number between 1 - 999 to choose the amount of accounts you want to buy.* \n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );

                        const howManyCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        howManyCollector.on("collect", (message) => {
                          const howManyContent = parseInt(message.content);

                          if (howManyContent.toString() === "NaN") return;
                          else if (howManyContent < 1 || howManyContent > 999)
                            return message.channel.send(
                              `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                            );
                          else {
                            howManyCollector.stop();

                            message.channel.send(
                              `*Send*  **$${(
                                product.price.toFixed(2) * howManyContent
                              ).toFixed(
                                2
                              )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                            );
                            const doneCollector = ticket.createMessageCollector(
                              (x) => true
                            );

                            doneCollector.on("collect", (message) => {
                              const doneContent = message.content.toLowerCase();

                              if (doneContent === "-done") {
                                doneCollector.stop();
                                message.channel.send(
                                  "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                                );
                              }
                            });
                          }
                        });
                      }
                    });
                  } else if (
                    collectorContent === "others" ||
                    collectorContent === "4"
                  ) {
                    whichServiceCollector.stop();

                    message.channel.send(
                      `*Please make sure to check the store to get a full list of all our products here: https://zestras.net/*\n\n*Select the product that you would like to buy:*\n\n${productOtherAccounts
                        .map(
                          (product) =>
                            `**[${
                              productOtherAccounts.indexOf(product) + 1
                            }]** *${product.name}* (**$${product.price.toFixed(
                              2
                            )}**)`
                        )
                        .join(
                          "\n"
                        )}\n\n*Please check what stock is available on the shop before picking a product.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                    );

                    const productCollector = ticket.createMessageCollector(
                      (x) => true
                    );

                    productCollector.on("collect", (message) => {
                      const productContent = message.content.toLowerCase();
                      const number = parseInt(productContent);

                      if (number.toString() === "NaN") return;
                      else if (
                        number < 1 ||
                        number > productOtherAccounts.length
                      )
                        return message.channel.send(
                          `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );
                      else {
                        productCollector.stop();
                        const product = productOtherAccounts[number - 1];

                        message.channel.send(
                          `*How Many ${product.name} would you like?*\n\n*Type any number between 1 - 999 to choose the amount of accounts you want to buy.* \n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                        );

                        const howManyCollector = ticket.createMessageCollector(
                          (x) => true
                        );

                        howManyCollector.on("collect", (message) => {
                          const howManyContent = parseInt(message.content);

                          if (howManyContent.toString() === "NaN") return;
                          else if (howManyContent < 1 || howManyContent > 999)
                            return message.channel.send(
                              `*Please send a valid number.* **${number}** *is not a valid number.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                            );
                          else {
                            howManyCollector.stop();

                            message.channel.send(
                              `*Send*  **$${(
                                product.price.toFixed(2) * howManyContent
                              ).toFixed(
                                2
                              )}** *to* **${ppEmail}** *as friends and family. Remember to also change the receiver amount from SEK to **USD ($)** before sending the money*\n*Once you have sent the money, provide screenshot proof that you have sent the money as friends and family to the correct PayPal. Once you have done that, type* **-done** *.*\n\n**NOTE:** Type \`-close\` to close the ticket at any time.`
                            );
                            const doneCollector = ticket.createMessageCollector(
                              (x) => true
                            );

                            doneCollector.on("collect", (message) => {
                              const doneContent = message.content.toLowerCase();

                              if (doneContent === "-done") {
                                doneCollector.stop();
                                message.channel.send(
                                  "*Thank you for your order!*\n*Zestras will review this ticket soon and fulfill your order. This can take up to* **24 hours** *if he is offline. If you haven't received your order within 24 hours, then you'll be automatically refunded.*\n\n***NOTE**: Do **NOT** delete this ticket.*"
                                );
                              }
                            });
                          }
                        });
                      }
                    });
                  }
                });
              }
            });
          } else return;
        });
      } else return;
    });
  },
  name: "buy-bot",
  aliases: ["purchase"],
  description: "Handling the bot for buying items ",
};
